{
    "domain": {
        "indices": [
            {
                "properties": [
                    { "$userId": "asc" },
                    { "hash": "asc" }
                ],
                "unique": true
            }
        ],
        "properties": {
            "hash": {
                "type": "string",
                "minLength": 1
            },
            "label": {
                "type": "string",
                "pattern": "^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$"
            },
            "normalizedLabel": {
                "type": "string",
                "pattern": "^((?!-)[a-z0-9-]{0,62}[a-z0-9])$"
            },
            "parentDomainHash": {
                "type": "string",
                "minLength": 1
            },
            "preorderSalt": {
                "type": "string",
                "minLength": 1
            },
            "records": {
                "type": "object",
                "properties": {
                    "dashIdentity": {
                        "type": "string",
                        "minLength": 64,
                        "maxLength": 64
                    }
                },
                "minProperties": 1,
                "additionalProperties": false
            }
       },
       "required": [
           "hash",
           "label",
           "normalizedLabel",
           "parentDomainHash",
           "preorderSalt",
           "records"
        ],
        "additionalProperties": false
    },
    "preorder": {
        "indices": [
            {
                "properties": [
                    { "$userId": "asc" },
                    { "saltedDomainHash": "asc" }
                ],
                "unique": true
            }
        ],
        "properties": {
           "saltedDomainHash": {
                "type": "string",
                "minLength": 1
           }
        },
        "required": [
            "saltedDomainHash"
        ],
        "additionalProperties": false
    }
}
